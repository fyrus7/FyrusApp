<!DOCTYPE html>
<html lang="en">
<head>

  <link rel="apple-touch-icon" sizes="180x180" href="/favicon-home/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-home/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-home/favicon-16x16.png">
  <link rel="manifest" href="/favicon-home/site.webmanifest">
  <link rel="mask-icon" href="/favicon-home/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/favicon-home/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="/favicon-home/browserconfig.xml">
  <meta name="theme-color" content="#8b0000">

  <title>FYRUS SYSTEM</title>

  <!-- meta tags for responsive web on mobile/desktop -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    /* Make sure body and html take up the full height */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: Helvetica, Arial, sans-serif;
      background-color: #000000; /* Set background to black */
      color: #ffffff; /* Set font color to white */
      display: flex;
      flex-direction: column;
    }

    /* Style for the welcome container */
    .welcome-container {
      flex-grow: 1; /* Make the container take up available space */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; /* Move content to the top */
      text-align: center;
      padding-top: 50px; /* Optional padding for spacing */
    }

    /* Style for the welcome image */
    .welcome-image {
      max-width: 300px; /* Resize the image */
      height: auto;
      position: relative;
      /*top: -10px; /* Move image up by 10px */
      margin-bottom: 20px;
    }

    /* Animation to slide the text from left */
    @keyframes slide-in-left {
      from {
        transform: translateX(-100%); /* Start off-screen to the left */
        opacity: 0; /* Invisible at the start */
      }
      to {
        transform: translateX(0); /* Move to the original position */
        opacity: 1; /* Fully visible at the end */
      }
    }
    
    /* Animation to slide the text from right */
    @keyframes slide-in-right {
      from {
        transform: translateX(100%); /* Start off-screen to the right */
        opacity: 0; /* Invisible at the start */
      }
      to {
        transform: translateX(0); /* Move to the original position */
        opacity: 1; /* Fully visible at the end */
      }
    }
    
    /* Style for the welcome text (slides from left) */
    .welcome-text {
      font-size: 24px;
      margin: 20px;
      animation: slide-in-left 1s ease-out; /* Apply slide-in-left animation */
    }
    
    /* Style for the transparent grey box wrapping body-text */
    .grey-box {
      background-color: rgba(128, 128, 128, 0.5); /* Transparent grey */
      padding: 20px;
      border-radius: 10px;
      opacity: 0; /* Initially invisible */
      animation: fade-in-box 2s forwards; /* Fade-in animation */
    }
    /* Style for the body text (slides from right) */
    .body-text {
      font-size: 18px;
      margin: 10px 20px;
      animation: slide-in-right 1.5s ease-out; /* Apply slide-in-right animation */
      text-align: left;
    }
    /* Fade-in animation for the grey box */
    @keyframes fade-in-box {
      from {
        opacity: 0; /* Start with invisible */
      }
      to {
        opacity: 1; /* Fully visible */
      }
    }

    /* Animation to slide the button from bottom */
    @keyframes slide-in-bottom {
      from {
        transform: translateY(100%); /* Start off-screen at the bottom */
        opacity: 0; /* Invisible at the start */
      }
      to {
        transform: translateY(0); /* Move to the original position */
        opacity: 1; /* Fully visible at the end */
      }
    }
    
    /* Style for the button */
    .redirect-button {
      padding: 10px 50px;
      font-size: 18px;
      background-color: #007bff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      text-decoration: none;
      animation: slide-in-bottom 1.5s ease-out; /* Apply slide-in-bottom animation */
    }
    .redirect-button:hover {
      background-color: #0056b3;
    }

    /* Copyright text */
    .copyright {
      font-size: 14px;
      color: #888;
      text-align: center;
      width: 100%; /* Ensure it takes up the full width */
      padding: 10px 0;
      background-color: #000;
      margin-bottom: 10px;
    }

    /* Responsive styles */
    @media (max-width: 600px) {
      .welcome-text {
        font-size: 20px;
      }
      .redirect-button {
        font-size: 16px;
        padding: 8px 16px;
      }
    }

    /* Modal background */
    .modal {
      display: none; /* Hidden by default */
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5); /* Dark overlay */
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* Modal content */
    .modal-content {
      background-color: #2d2d2d; /* Dark gray background */
      color: white; /* White text */
      border-radius: 8px; /* Rounded corners */
      width: 400px; /* Adjust width */
      padding: 20px;
      box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.3);
      text-align: left;
      position: relative;
    }

    /* Close button */
    .close {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 20px;
      color: white;
      cursor: pointer;
    }

    /* App icon and text */
    .modal-header {
      display: flex;
      align-items: center;
      margin-bottom: 20px;
    }

    .modal-header img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      margin-right: 15px;
    }

    /* App name */
    .app-name {
      font-size: 18px;
      font-weight: bold;
    }

    /* URL text */
    .app-url {
      font-size: 14px;
      color: #b0b0b0; /* Lighter gray for URL */
    }

    /* Buttons container */
    .modal-footer {
      display: flex;
      justify-content: flex-end;
      margin-top: 20px;
    }

    .btn {
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      border-radius: 5px;
      font-size: 14px;
      margin-left: 10px;
    }

    /* Install button */
    .btn-install {
      background-color: #4285F4; /* Blue for install */
      color: white;
    }

    /* Cancel button */
    .btn-cancel {
      background-color: transparent;
      color: #b0b0b0; /* Gray for cancel */
    }
  </style>
</head>
<body>
  
  <div class="welcome-container">
    <img class="welcome-image" src="/media/FyrusStripeRed.png" alt="Welcome Image">
    
    <p class="welcome-text">Welcome to the FYRUS SYSTEM!</p>

    <!-- Transparent grey box wrapping body-text -->
    <div class="grey-box">
    <p class="body-text">

      This app is made to ease RPC day.
      <br><br>
      Low cost & easy to use.
      <br><br>
      No messy excel/sheets.
      <br><br>
      [ optimize for smartphone ]
      <br><br>
      ** RPC : Race Pack Collection
    </p>
    </div>
    
    <br><br>
    <a href="/demo" class="redirect-button">Go to Demo Page</a>
  </div>

  <div class="copyright">
    &copy; 2024 Fyrus System. All rights reserved.
  </div>

    <!-- Modal structure -->
  <div id="installModal" class="modal">
    <div class="modal-content">
      <span class="close" id="closeBtn">&times;</span>
      <div class="modal-header">
        <img src="/favicon-home/favicon-32x32.png" alt="App Icon">
        <div>
          <div class="app-name">IAMFYRUS | Awesome RPC App</div>
          <div class="app-url">iamfyrus.com</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-cancel" id="cancelBtn">Cancel</button>
        <button class="btn btn-install" id="installBtn">Install</button>
      </div>
    </div>
  </div>

  <script>
  // Register the service worker
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('/service-worker.js')
        .then((registration) => {
          console.log('Service Worker registered with scope:', registration.scope);
        })
        .catch((error) => {
          console.error('Service Worker registration failed:', error);
        });
    });
  }

  // PWA install prompt
  let deferredPrompt;
  const installModal = document.getElementById('installModal');
  const installButton = document.getElementById('installBtn');
  const closeModalButton = document.getElementById('closeBtn');
  const cancelButton = document.getElementById('cancelBtn');

  window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    installModal.style.display = 'flex';  // Show the modal
  });

  installButton.addEventListener('click', () => {
    installModal.style.display = 'none';  // Hide the modal
    deferredPrompt.prompt();

    deferredPrompt.userChoice.then((choiceResult) => {
      if (choiceResult.outcome === 'accepted') {
        console.log('User accepted the install prompt');
      } else {
        console.log('User dismissed the install prompt');
      }
      deferredPrompt = null;
    });
  });

  closeModalButton.addEventListener('click', () => {
    installModal.style.display = 'none';  // Hide the modal
  });

  cancelButton.addEventListener('click', () => {
    installModal.style.display = 'none';  // Hide the modal
  });

  window.addEventListener('click', (e) => {
    if (e.target === installModal) {
      installModal.style.display = 'none';  // Close modal if user clicks outside of it
    }
  });
</script>

  
</body>
</html>
